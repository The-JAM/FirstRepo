{"ast":null,"code":"var _jsxFileName = \"/Users/amanimuller/Desktop/FirstRepo/CP/frontend/my-app/src/context/AuthContext.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/React.createContext({\n  currentUser: {},\n  setCurrentUser: () => {},\n  signIn: () => {},\n  signOut: () => {}\n});\nexport class AuthProvider extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      currentUser: {},\n      setCurrentUser: user => {\n        this.setState({\n          currentUser: user\n        });\n      },\n      signIn: async (username, password) => {\n        const data = {\n          username: username,\n          password: password\n        };\n        await axios.post(\"http://localhost:4000/login\", data).then(res => {\n          const currentUserData = res.data;\n          this.state.setCurrentUser(currentUserData);\n          localStorage.setItem(\"user\", JSON.stringify(this.state.currentUser));\n        }).catch(err => console.log(err));\n      },\n      signOut: async () => {\n        await axios.get(\"http://localhost:4000/login\").then(res => {\n          this.state.setCurrentUser({});\n          localStorage.removeItem(\"user\");\n        });\n      }\n    };\n  }\n\n  render() {\n    const {\n      children\n    } = this.props;\n    const {\n      currentUser,\n      setCurrentUser,\n      signIn,\n      signOut\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n      value: {\n        currentUser,\n        setCurrentUser,\n        signIn,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport const AuthConsumer = AuthContext.Consumer;","map":{"version":3,"sources":["/Users/amanimuller/Desktop/FirstRepo/CP/frontend/my-app/src/context/AuthContext.js"],"names":["React","Component","axios","AuthContext","createContext","currentUser","setCurrentUser","signIn","signOut","AuthProvider","state","user","setState","username","password","data","post","then","res","currentUserData","localStorage","setItem","JSON","stringify","catch","err","console","log","get","removeItem","render","children","props","AuthConsumer","Consumer"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,OAAO,MAAMC,WAAW,gBAAGH,KAAK,CAACI,aAAN,CAAoB;AAC3CC,EAAAA,WAAW,EAAC,EAD+B;AAE3CC,EAAAA,cAAc,EAAE,MAAM,CAAE,CAFmB;AAG3CC,EAAAA,MAAM,EAAE,MAAM,CAAE,CAH2B;AAI3CC,EAAAA,OAAO,EAAE,MAAM,CAAE;AAJ0B,CAApB,CAApB;AAQP,OAAO,MAAMC,YAAN,SAA4BR,SAA5B,CAAqC;AAAA;AAAA;AAAA,SAExCS,KAFwC,GAEhC;AACJL,MAAAA,WAAW,EAAE,EADT;AAEJC,MAAAA,cAAc,EAAEK,IAAD,IAAU;AACrB,aAAKC,QAAL,CAAc;AAACP,UAAAA,WAAW,EAAEM;AAAd,SAAd;AACH,OAJG;AAKJJ,MAAAA,MAAM,EAAE,OAAOM,QAAP,EAAgBC,QAAhB,KAA6B;AACjC,cAAMC,IAAI,GAAG;AACTF,UAAAA,QAAQ,EAAEA,QADD;AAETC,UAAAA,QAAQ,EAAEA;AAFD,SAAb;AAKA,cAAMZ,KAAK,CAACc,IAAN,CAAW,6BAAX,EAA0CD,IAA1C,EAAgDE,IAAhD,CAAsDC,GAAD,IAAS;AAChE,gBAAMC,eAAe,GAAID,GAAG,CAACH,IAA7B;AACA,eAAKL,KAAL,CAAWJ,cAAX,CAA0Ba,eAA1B;AACAC,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAgB,KAAKb,KAAL,CAAWL,WAA3B,CAA7B;AACH,SAJK,EAIHmB,KAJG,CAIGC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAJV,CAAN;AAKH,OAhBG;AAiBJjB,MAAAA,OAAO,EAAE,YAAY;AACjB,cAAMN,KAAK,CAAC0B,GAAN,CAAU,6BAAV,EAAyCX,IAAzC,CAA8CC,GAAG,IAAE;AACrD,eAAKR,KAAL,CAAWJ,cAAX,CAA0B,EAA1B;AACAc,UAAAA,YAAY,CAACS,UAAb,CAAwB,MAAxB;AACH,SAHK,CAAN;AAIH;AAtBG,KAFgC;AAAA;;AA4BxCC,EAAAA,MAAM,GAAG;AAGL,UAAM;AAACC,MAAAA;AAAD,QAAa,KAAKC,KAAxB;AACA,UAAM;AAAC3B,MAAAA,WAAD;AAAcC,MAAAA,cAAd;AAA8BC,MAAAA,MAA9B;AAAsCC,MAAAA;AAAtC,QAAiD,KAAKE,KAA5D;AACA,wBACI,QAAC,WAAD,CAAa,QAAb;AAAsB,MAAA,KAAK,EAAE;AAACL,QAAAA,WAAD;AAAaC,QAAAA,cAAb;AAA4BC,QAAAA,MAA5B;AAAmCC,QAAAA;AAAnC,OAA7B;AAAA,gBACKuB;AADL;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AAtCuC;AAyC5C,OAAO,MAAOE,YAAY,GAAG9B,WAAW,CAAC+B,QAAlC","sourcesContent":["import React ,{Component} from \"react\";\nimport axios from \"axios\";\n\nexport const AuthContext = React.createContext({\n    currentUser:{},\n    setCurrentUser: () => {},\n    signIn: () => {},\n    signOut: () => {}\n});\n\n\nexport class AuthProvider extends  Component{\n\n    state = {\n        currentUser: {},\n        setCurrentUser:(user) => {\n            this.setState({currentUser: user})\n        },\n        signIn: async (username,password) => {\n            const data = {\n                username: username,\n                password: password\n            }\n\n            await axios.post(\"http://localhost:4000/login\", data).then((res) => {\n                const currentUserData  = res.data\n                this.state.setCurrentUser(currentUserData);\n                localStorage.setItem(\"user\", JSON.stringify((this.state.currentUser)))\n            }).catch(err => console.log(err));\n        },\n        signOut: async () => {\n            await axios.get(\"http://localhost:4000/login\").then(res=>{\n                this.state.setCurrentUser({});\n                localStorage.removeItem(\"user\");\n            })\n        }\n    }\n\n\n    render() {\n\n\n        const {children} = this.props\n        const {currentUser, setCurrentUser, signIn, signOut} = this.state\n        return(\n            <AuthContext.Provider value={{currentUser,setCurrentUser,signIn,signOut}}>\n                {children}\n            </AuthContext.Provider>\n        ) ;\n    }\n}\n\nexport const  AuthConsumer = AuthContext.Consumer;"]},"metadata":{},"sourceType":"module"}